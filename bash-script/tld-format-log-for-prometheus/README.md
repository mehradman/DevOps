# TLD format log Script
This repository contains a Bash script to parse an audit log and generate Prometheus metrics based on the content.

## Description
The script processes an input file generated by the `audit-analysis.sh` script. It reads the file line by line, extracts relevant metrics, and generates a Prometheus metrics file. 
**Note:** The `audit-analysis.sh` script is from another project in this repository.

## input.txt format:
```bash
TOTAL COUNT : 100
FAILED : 20
SUCCESS : 80
2025-01-15 12:34:56,user123,login,success
2025-01-15 12:35:01,user123,logout,failed
...
```

metrics.prom format:
```bash
# TYPE user_123_total_count counter
user_123_total_count 100

# TYPE user_123_failed_count counter
user_123_failed_count 20

# TYPE user_123_success_count counter
user_123_success_count 80

# TYPE user_123_action counter
user_123_action{timestamp="2025-01-15 12:34:56",user_id="user123",action="login",status="success"} 1
user_123_action{timestamp="2025-01-15 12:35:01",user_id="user123",action="logout",status="failed"} 1
...
```

## More Information
For more information about writing exporters, you can visit [Prometheus Exporter Documentation](https://prometheus.io/docs/instrumenting/writing_exporters/).
